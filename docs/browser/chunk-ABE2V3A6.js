import{a as y}from"./chunk-PTV3HNSO.js";import"./chunk-N33Y4MDM.js";import{w as E}from"./chunk-FYJFCBEW.js";import{Eb as u,Gb as x,Ka as v,Na as o,Rb as a,Sb as C,Tb as _,W as f,Za as b,Zb as D,aa as d,ba as p,ob as h,pb as S,qb as g,rb as r,sb as t,tb as m,zb as w}from"./chunk-4DX7SM4S.js";import"./chunk-4CLCTAJ7.js";var I=c=>["/checkout",c],T=(c,i)=>i.product._id;function P(c,i){if(c&1){let e=w();r(0,"div",6)(1,"div",11),m(2,"img",12),t(),r(3,"div",13)(4,"div")(5,"h3",14),a(6),t(),r(7,"div",15)(8,"div",16)(9,"button",17),u("click",function(){let l=d(e).$implicit,s=x();return p(s.updateCart(l.product._id,l.count-1))}),m(10,"i",18),t(),r(11,"span"),a(12),t(),r(13,"button",17),u("click",function(){let l=d(e).$implicit,s=x();return p(s.updateCart(l.product._id,l.count+1))}),m(14,"i",19),t()(),r(15,"button",17),u("click",function(){let l=d(e).$implicit,s=x();return p(s.removeProductInCart(l.product._id))}),m(16,"i",20),t()()(),r(17,"h3"),a(18),t()()()}if(c&2){let e=i.$implicit;o(2),g("src",e.product.imageCover,v)("alt",e.product.title),o(4),C(e.product.title),o(6),C(e.count),o(6),_("",e.price*e.count,"EGP")}}var k=class c{cartService=f(y);cartDetails={};ngOnInit(){this.getLoggedCartData()}getLoggedCartData(){this.cartService.cartLogged().subscribe({next:i=>{console.log(i),this.cartDetails=i.data},error:i=>{console.log(i)}})}removeProductInCart(i){this.cartService.removeSpecificCartItem(i).subscribe({next:e=>{console.log(e),this.cartService.cartNumber.set(e.numOfCartItems),this.cartDetails=e.data},error:e=>{console.log(e)}})}updateCart(i,e){this.cartService.updateCartCount(i,e).subscribe({next:n=>{console.log(n),this.cartDetails=n.data},error:n=>{console.log(n)}})}static \u0275fac=function(e){return new(e||c)};static \u0275cmp=b({type:c,selectors:[["app-cart"]],decls:20,vars:5,consts:[[1,"bg-gray-300"],[1,"container","mx-auto","p-5","grid","sm:grid-cols-12","gap-10"],[1,"col-span-8","p-4","shadow","rounded-lg"],[1,"flex","items-center","space-x-2","pb-3","my-3"],[1,"text-3xl"],[1,"text-orange-700"],[1,"bg-white","grid","sm:grid-cols-12","p-4","mb-5","shadow","rounded-lg","space-x-3"],[1,"col-span-4","bg-white","p-4","shadow","rounded-lg","self-start"],[1,"text-2xl"],[1,"flex","items-center","justify-between","py-3"],[1,"btn",3,"routerLink"],[1,"col-span-1"],[1,"w-full",3,"src","alt"],[1,"col-span-11","flex","items-center","justify-between"],[1,"text-xl"],[1,"flex","items-center","space-x-2","py-2.5"],[1,"bg-gray-300","rounded-lg","flex","border-2","items-center","space-x-6","p-1"],[3,"click"],[1,"fas","fa-minus","cursor-pointer"],[1,"fas","fa-plus","cursor-pointer"],[1,"fa","fa-trash-can","cursor-pointer"]],template:function(e,n){e&1&&(r(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),a(5,"Cart"),t(),r(6,"span",5),a(7),t()(),h(8,P,19,5,"div",6,T),t(),r(10,"div",7)(11,"h2",8),a(12,"Order Summary"),t(),r(13,"div",9)(14,"h3"),a(15,"Total Price"),t(),r(16,"h3"),a(17),t()(),r(18,"button",10),a(19,"Proceed To CheckOut"),t()()()()),e&2&&(o(7),_("",n.cartDetails.products.length," item"),o(),S(n.cartDetails.products),o(9),C(n.cartDetails.totalCartPrice),o(),g("routerLink",D(3,I,n.cartDetails._id)))},dependencies:[E],encapsulation:2})};export{k as CartComponent};
